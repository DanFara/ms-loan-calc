<head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script> <script src="https://www.unpkg.com/lightweight-charts@2.0.0/dist/lightweight-charts.standalone.production.js"></script> <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"></head><style>body{background-color: #2B2B43; color: whitesmoke;}</style><body ><div id="main_chart" ></div><div class="container"> <div class="row" > <h5>Enter Loans</h5> </div><div class="row" > <label class="col" for="sem1">Fall M1</label> <label class="col" for="sem2">Spring M1</label> <label class="col" for="sem3">Fall M2</label> <label class="col" for="sem4">Spring M2</label> <div class="input-group mb-3"> <input type="tel" value="22000" class="form-control col" id="sem1" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> <input type="tel" value="22000" class="form-control col" id="sem2" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> <input type="tel" value="22000" class="form-control col" id="sem3" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> <input type="tel" value="22000" class="form-control col" id="sem4" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> </div></div><div class="row"> <label class="col" for="sem5">Fall M3</label> <label class="col" for="sem6">Spring M3</label> <label class="col" for="sem7">Fall M4</label> <label class="col" for="sem8">Spring M4</label> <div class="input-group mb-3"> <input type="tel" value="22000" class="form-control col" id="sem5" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> <input type="tel" value="22000" class="form-control col" id="sem6" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> <input type="tel" value="22000" class="form-control col" id="sem7" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> <input type="tel" value="22000" class="form-control col" id="sem8" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> </div></div><div class="row"> <h5>Additional Info</h5> </div><div class="row"> <label class="col" for="interest">Avg Interest Rate (%)</label> <label class="col" for="principle">Calculated Principle</label> <label class="col" for="tip">Calculated Interest Paid</label> <div class="input-group mb-3"> <input type="tel" value="7" class="form-control col-xs-6 col-sm-3" id="interest" aria-describedby="basic-addon3" onchange="datacalc()"> <input type="text" value="" disabled class="form-control col" id="principle" aria-describedby="basic-addon3"> <input type="text" value="" disabled class="form-control col" id="tip" aria-describedby="basic-addon3" > </div></div><div class="row"> <label class="col" for="rmc">Residency Monthly Contribution</label> <label class="col" for="yir">Years In Residency/Fellowship</label> <div class="input-group mb-3"> <input type="tel" value="350" class="form-control col" id="rmc" aria-describedby="basic-addon3" onchange="datacalc()"> <input type="tel" value="4" class="form-control col" id="yir" aria-describedby="basic-addon3" onchange="datacalc()"> </div></div><div class="row"> <label class="col" for="asa">Attending Annual Salary</label> <label class="col" for="asa">% salary paid to loan (per month)</label> <label class="col" for="asa">Calculated Monthly Loan Payment</label> <div class="input-group mb-3"> <input border-primary type="tel" value="250000" class="form-control col" id="asa" aria-describedby="basic-addon3" onchange="datacalc(); monthly();"> <input type="tel" value="50" class="form-control col" id="percent" aria-describedby="basic-addon3" onchange="datacalc(); monthly();"> <input type="text" disabled value="10416.67" class="form-control col" id="monthly_pay" aria-describedby="basic-addon3" > </div></div><div class="row"> <label class="col" for="mtd">Matriculation Year</label> <label class="col" for="epd">Estimated Payoff Date</label> <div class="input-group mb-3"> <input id="mtd" type="number" class="form-control col" min="1980" max="2099" step="1" value="2020" onchange="datacalc()"/> <input type="text" value="" disabled class="form-control col" id="epd" aria-describedby="basic-addon3" onchange="datacalc()"> </div></div></div></body><script>function getWidth(){return Math.max( document.body.scrollWidth, document.documentElement.scrollWidth, document.body.offsetWidth, document.documentElement.offsetWidth, document.documentElement.clientWidth );}function getHeight(){return Math.max( document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.documentElement.clientHeight );}console.log('Width: ' + getWidth() ); console.log('Height: ' + getHeight() ); var chart=LightweightCharts.createChart(document.getElementById("main_chart"),{width: getWidth()*0.965 , height: getHeight()*0.75, layout:{backgroundColor: '#000000', textColor: 'rgba(255, 255, 255, 0.9)',}, grid:{vertLines:{color: 'rgba(197, 203, 206, 0.5)',}, horzLines:{color: 'rgba(197, 203, 206, 0.5)',},}, crosshair:{mode: LightweightCharts.CrosshairMode.Normal,}, priceScale:{borderColor: 'rgba(197, 203, 206, 0.8)',}, timeScale:{borderColor: 'rgba(197, 203, 206, 0.8)',},}); var areaSeries=chart.addAreaSeries({topColor: 'rgba(33, 150, 243, 0.56)', bottomColor: 'rgba(33, 150, 243, 0.04)', lineColor: 'rgba(33, 150, 243, 1)', lineWidth: 2,}); var darkTheme={chart:{layout:{backgroundColor: '#2B2B43', lineColor: '#2B2B43', textColor: '#D9D9D9',}, watermark:{color: 'rgba(0, 0, 0, 0)',}, crosshair:{color: '#758696',}, grid:{vertLines:{color: '#2B2B43',}, horzLines:{color: '#363C4E',},},}, series:{topColor: 'rgba(32, 226, 47, 0.56)', bottomColor: 'rgba(32, 226, 47, 0.04)', lineColor: 'rgba(32, 226, 47, 1)',},}; const lightTheme={chart:{layout:{backgroundColor: '#FFFFFF', lineColor: '#2B2B43', textColor: '#191919',}, watermark:{color: 'rgba(0, 0, 0, 0)',}, grid:{vertLines:{visible: false,}, horzLines:{color: '#f0f3fa',},},}, series:{topColor: 'rgba(33, 150, 243, 0.56)', bottomColor: 'rgba(33, 150, 243, 0.04)', lineColor: 'rgba(33, 150, 243, 1)',},}; var themesData={Dark: darkTheme, Light: lightTheme,}; function syncToTheme(theme){chart.applyOptions(themesData[theme].chart); areaSeries.applyOptions(themesData[theme].series);}syncToTheme('Dark'); function resizer(){chart.applyOptions({width: getWidth()*0.95, height: getHeight()*0.75});}/*window.addEventListener("resize",resizer)*/ function datacalc(){var list1=[]; var first_year=parseInt($("#mtd").val()); var date=new Date(first_year, 8, 1, 0, 0, 0); var dd=(date.getDate() < 10 ? '0' : '') + date.getDate(); var mm=(date.getMonth() < 10 ? '0' : '') + date.getMonth(); var yy=date.getFullYear(); var interest=parseFloat($("#interest").val())/100; var loan1=parseFloat($("#sem1").val()); var loan2=parseFloat($("#sem2").val()); var loan3=parseFloat($("#sem3").val()); var loan4=parseFloat($("#sem4").val()); var loan5=parseFloat($("#sem5").val()); var loan6=parseFloat($("#sem6").val()); var loan7=parseFloat($("#sem7").val()); var loan8=parseFloat($("#sem8").val()); var years_in_residency=parseFloat($("#yir").val()); var residency_monthly=parseFloat($("#rmc").val()); var attending_monthly=parseFloat($("#asa").val())/12; var monthly_contrib=attending_monthly * parseFloat($("#percent").val())/100; var excess_paid=-(loan1 + loan2 + loan3 + loan4 + loan5 + loan6 + loan7 + loan8); interest=interest/12; var i_multi=interest + 1; var loans=loan1*i_multi; list1.push({time:yy + '-'+ mm + '-'+ dd, value:loans}); var i; for (i=1; i<46; i++){date=new Date(date.setMonth(date.getMonth()+1)); dd=(date.getDate() < 10 ? '0' : '') + date.getDate(); mm=(date.getMonth() < 10 ? '0' : '') + parseInt(date.getMonth()); yy=date.getFullYear(); mm=parseInt(mm) + 1; mm=(mm < 10 ? '0' : '') + mm; var date_str=yy + '-'+ mm + '-'+ dd; /*medical school*/ switch(i){case 5: loans=(loans + loan2)*i_multi; break; case 12: loans=(loans + loan3)*i_multi; break; case 17: loans=(loans + loan4)*i_multi; break; case 24: loans=(loans + loan5)*i_multi; break; case 29: loans=(loans + loan6)*i_multi; break; case 36: loans=(loans + loan7)*i_multi; break; case 40: loans=(loans + loan8)*i_multi; break; default: loans=loans*i_multi;}list1.push({time:date_str, value:loans});}/*residency*/ for (i=1; i<years_in_residency*12;i++){date=new Date(date.setMonth(date.getMonth()+1)); dd=(date.getDate() < 10 ? '0' : '') + date.getDate(); mm=(date.getMonth() < 10 ? '0' : '') + parseInt(date.getMonth()); yy=date.getFullYear(); mm=parseInt(mm) + 1; mm=(mm < 10 ? '0' : '') + mm; date_str=yy + '-'+ mm + '-'+ dd; loans=loans*i_multi - residency_monthly; list1.push({time:date_str, value:loans}); excess_paid=excess_paid + residency_monthly;}/*attending*/ i=0; while (loans > 0 && i<30*12){date=new Date(date.setMonth(date.getMonth()+1)); dd=(date.getDate() < 10 ? '0' : '') + date.getDate(); mm=(date.getMonth() < 10 ? '0' : '') + parseInt(date.getMonth()); yy=date.getFullYear(); mm=parseInt(mm) + 1; mm=(mm < 10 ? '0' : '') + mm; date_str=yy + '-'+ mm + '-'+ dd; loans=loans*i_multi - monthly_contrib; if (loans<0){loans=0;}list1.push({time:date_str, value:loans}); i++; excess_paid=excess_paid + monthly_contrib;}$("#monthly_pay").val(Math.round(monthly_contrib)); areaSeries.setData(list1); chart.timeScale().fitContent(); $("#tip").val(Math.round(excess_paid)); $("#epd").val(date_str); return list1;}console.log(datacalc()); function monthly(){var attending_monthly=parseFloat($("#asa").val())/12; var monthly_contrib=attending_monthly * parseFloat($("#percent").val())/100; $("#monthly_pay").val(Math.round(monthly_contrib));}function principality(){var principle=parseFloat($("#sem1").val())+parseFloat($("#sem2").val())+parseFloat($("#sem3").val())+parseFloat($("#sem4").val())+ parseFloat($("#sem5").val())+parseFloat($("#sem6").val())+parseFloat($("#sem7").val())+parseFloat($("#sem8").val()); $("#principle").val(principle);}principality();</script><script>var _0x4b7f=['rgba(33,\x20150,\x20243,\x200.56)','#rmc','documentElement','rgba(33,\x20150,\x20243,\x201)','#asa','offsetWidth','#sem4','rgba(32,\x20226,\x2047,\x200.04)','#FFFFFF','round','scrollHeight','clientHeight','fitContent','rgba(255,\x20255,\x20255,\x200.9)','#f0f3fa','rgba(32,\x20226,\x2047,\x200.56)','#tip','#sem8','#2B2B43','#principle','body','scrollWidth','setMonth','#191919','rgba(197,\x20203,\x20206,\x200.5)','rgba(32,\x20226,\x2047,\x201)','#monthly_pay','main_chart','rgba(33,\x20150,\x20243,\x200.04)','#percent','series','#sem6','Width:\x20\x20','#mtd','rgba(197,\x20203,\x20206,\x200.8)','rgba(0,\x200,\x200,\x200)','getMonth','#sem3','#D9D9D9','#sem2','addAreaSeries','timeScale','#758696','CrosshairMode','#sem7','createChart','#epd','getFullYear','getDate','offsetHeight','clientWidth','#363C4E','log','applyOptions','getElementById','setData','Normal','val','push','#sem1','max'];(function(_0x31b604,_0x4b7f45){var _0x7ff8d4=function(_0x2c10ae){while(--_0x2c10ae){_0x31b604['push'](_0x31b604['shift']());}};_0x7ff8d4(++_0x4b7f45);}(_0x4b7f,0x135));var _0x7ff8=function(_0x31b604,_0x4b7f45){_0x31b604=_0x31b604-0x0;var _0x7ff8d4=_0x4b7f[_0x31b604];return _0x7ff8d4;};function getWidth(){return Math[_0x7ff8('0x38')](document['body'][_0x7ff8('0x11')],document[_0x7ff8('0x3b')][_0x7ff8('0x11')],document[_0x7ff8('0x10')]['offsetWidth'],document[_0x7ff8('0x3b')][_0x7ff8('0x1')],document['documentElement'][_0x7ff8('0x2e')]);}function getHeight(){return Math[_0x7ff8('0x38')](document[_0x7ff8('0x10')][_0x7ff8('0x6')],document[_0x7ff8('0x3b')][_0x7ff8('0x6')],document[_0x7ff8('0x10')]['offsetHeight'],document['documentElement'][_0x7ff8('0x2d')],document[_0x7ff8('0x3b')][_0x7ff8('0x7')]);}console[_0x7ff8('0x30')](_0x7ff8('0x1c')+getWidth());console[_0x7ff8('0x30')]('Height:\x20'+getHeight());var chart=LightweightCharts[_0x7ff8('0x29')](document[_0x7ff8('0x32')](_0x7ff8('0x17')),{'width':getWidth()*0.965,'height':getHeight()*0.75,'layout':{'backgroundColor':'#000000','textColor':_0x7ff8('0x9')},'grid':{'vertLines':{'color':_0x7ff8('0x14')},'horzLines':{'color':'rgba(197,\x20203,\x20206,\x200.5)'}},'crosshair':{'mode':LightweightCharts[_0x7ff8('0x27')][_0x7ff8('0x34')]},'priceScale':{'borderColor':_0x7ff8('0x1e')},'timeScale':{'borderColor':_0x7ff8('0x1e')}});var areaSeries=chart[_0x7ff8('0x24')]({'topColor':_0x7ff8('0x39'),'bottomColor':_0x7ff8('0x18'),'lineColor':_0x7ff8('0x3c'),'lineWidth':0x2});var darkTheme={'chart':{'layout':{'backgroundColor':_0x7ff8('0xe'),'lineColor':_0x7ff8('0xe'),'textColor':_0x7ff8('0x22')},'watermark':{'color':'rgba(0,\x200,\x200,\x200)'},'crosshair':{'color':_0x7ff8('0x26')},'grid':{'vertLines':{'color':'#2B2B43'},'horzLines':{'color':_0x7ff8('0x2f')}}},'series':{'topColor':_0x7ff8('0xb'),'bottomColor':_0x7ff8('0x3'),'lineColor':_0x7ff8('0x15')}};const lightTheme={'chart':{'layout':{'backgroundColor':_0x7ff8('0x4'),'lineColor':_0x7ff8('0xe'),'textColor':_0x7ff8('0x13')},'watermark':{'color':_0x7ff8('0x1f')},'grid':{'vertLines':{'visible':![]},'horzLines':{'color':_0x7ff8('0xa')}}},'series':{'topColor':_0x7ff8('0x39'),'bottomColor':_0x7ff8('0x18'),'lineColor':_0x7ff8('0x3c')}};var themesData={'Dark':darkTheme,'Light':lightTheme};function syncToTheme(_0x596fb0){chart[_0x7ff8('0x31')](themesData[_0x596fb0]['chart']);areaSeries[_0x7ff8('0x31')](themesData[_0x596fb0][_0x7ff8('0x1a')]);}syncToTheme('Dark');function resizer(){chart[_0x7ff8('0x31')]({'width':getWidth()*0.95,'height':getHeight()*0.75});}function datacalc(){var _0x377398=[];var _0x5b7381=parseInt($(_0x7ff8('0x1d'))['val']());var _0x3578ec=new Date(_0x5b7381,0x8,0x1,0x0,0x0,0x0);var _0x295c49=(_0x3578ec['getDate']()<0xa?'0':'')+_0x3578ec[_0x7ff8('0x2c')]();var _0x555b99=(_0x3578ec['getMonth']()<0xa?'0':'')+_0x3578ec[_0x7ff8('0x20')]();var _0x48d0f6=_0x3578ec[_0x7ff8('0x2b')]();var _0x428f33=parseFloat($('#interest')[_0x7ff8('0x35')]())/0x64;var _0x2335e1=parseFloat($(_0x7ff8('0x37'))[_0x7ff8('0x35')]());var _0x269720=parseFloat($(_0x7ff8('0x23'))[_0x7ff8('0x35')]());var _0x4ad8a4=parseFloat($(_0x7ff8('0x21'))[_0x7ff8('0x35')]());var _0x2722a9=parseFloat($(_0x7ff8('0x2'))['val']());var _0x2b2846=parseFloat($('#sem5')['val']());var _0x1b9e97=parseFloat($(_0x7ff8('0x1b'))[_0x7ff8('0x35')]());var _0x574902=parseFloat($(_0x7ff8('0x28'))[_0x7ff8('0x35')]());var _0x855bc=parseFloat($(_0x7ff8('0xd'))[_0x7ff8('0x35')]());var _0x3871a3=parseFloat($('#yir')[_0x7ff8('0x35')]());var _0x158393=parseFloat($(_0x7ff8('0x3a'))[_0x7ff8('0x35')]());var _0x50fb12=parseFloat($('#asa')[_0x7ff8('0x35')]())/0xc;var _0x528491=_0x50fb12*parseFloat($(_0x7ff8('0x19'))[_0x7ff8('0x35')]())/0x64;var _0x5666ae=-(_0x2335e1+_0x269720+_0x4ad8a4+_0x2722a9+_0x2b2846+_0x1b9e97+_0x574902+_0x855bc);_0x428f33=_0x428f33/0xc;var _0x1ac3f3=_0x428f33+0x1;var _0x59a9cc=_0x2335e1*_0x1ac3f3;_0x377398['push']({'time':_0x48d0f6+'-'+_0x555b99+'-'+_0x295c49,'value':_0x59a9cc});var _0x1f5e96;for(_0x1f5e96=0x1;_0x1f5e96<0x2e;_0x1f5e96++){_0x3578ec=new Date(_0x3578ec['setMonth'](_0x3578ec[_0x7ff8('0x20')]()+0x1));_0x295c49=(_0x3578ec[_0x7ff8('0x2c')]()<0xa?'0':'')+_0x3578ec[_0x7ff8('0x2c')]();_0x555b99=(_0x3578ec[_0x7ff8('0x20')]()<0xa?'0':'')+parseInt(_0x3578ec[_0x7ff8('0x20')]());_0x48d0f6=_0x3578ec[_0x7ff8('0x2b')]();_0x555b99=parseInt(_0x555b99)+0x1;_0x555b99=(_0x555b99<0xa?'0':'')+_0x555b99;var _0x446339=_0x48d0f6+'-'+_0x555b99+'-'+_0x295c49;switch(_0x1f5e96){case 0x5:_0x59a9cc=(_0x59a9cc+_0x269720)*_0x1ac3f3;break;case 0xc:_0x59a9cc=(_0x59a9cc+_0x4ad8a4)*_0x1ac3f3;break;case 0x11:_0x59a9cc=(_0x59a9cc+_0x2722a9)*_0x1ac3f3;break;case 0x18:_0x59a9cc=(_0x59a9cc+_0x2b2846)*_0x1ac3f3;break;case 0x1d:_0x59a9cc=(_0x59a9cc+_0x1b9e97)*_0x1ac3f3;break;case 0x24:_0x59a9cc=(_0x59a9cc+_0x574902)*_0x1ac3f3;break;case 0x28:_0x59a9cc=(_0x59a9cc+_0x855bc)*_0x1ac3f3;break;default:_0x59a9cc=_0x59a9cc*_0x1ac3f3;}_0x377398['push']({'time':_0x446339,'value':_0x59a9cc});}for(_0x1f5e96=0x1;_0x1f5e96<_0x3871a3*0xc;_0x1f5e96++){_0x3578ec=new Date(_0x3578ec[_0x7ff8('0x12')](_0x3578ec[_0x7ff8('0x20')]()+0x1));_0x295c49=(_0x3578ec[_0x7ff8('0x2c')]()<0xa?'0':'')+_0x3578ec[_0x7ff8('0x2c')]();_0x555b99=(_0x3578ec[_0x7ff8('0x20')]()<0xa?'0':'')+parseInt(_0x3578ec[_0x7ff8('0x20')]());_0x48d0f6=_0x3578ec[_0x7ff8('0x2b')]();_0x555b99=parseInt(_0x555b99)+0x1;_0x555b99=(_0x555b99<0xa?'0':'')+_0x555b99;_0x446339=_0x48d0f6+'-'+_0x555b99+'-'+_0x295c49;_0x59a9cc=_0x59a9cc*_0x1ac3f3-_0x158393;_0x377398[_0x7ff8('0x36')]({'time':_0x446339,'value':_0x59a9cc});_0x5666ae=_0x5666ae+_0x158393;}_0x1f5e96=0x0;while(_0x59a9cc>0x0&&_0x1f5e96<0x1e*0xc){_0x3578ec=new Date(_0x3578ec[_0x7ff8('0x12')](_0x3578ec['getMonth']()+0x1));_0x295c49=(_0x3578ec['getDate']()<0xa?'0':'')+_0x3578ec[_0x7ff8('0x2c')]();_0x555b99=(_0x3578ec[_0x7ff8('0x20')]()<0xa?'0':'')+parseInt(_0x3578ec[_0x7ff8('0x20')]());_0x48d0f6=_0x3578ec[_0x7ff8('0x2b')]();_0x555b99=parseInt(_0x555b99)+0x1;_0x555b99=(_0x555b99<0xa?'0':'')+_0x555b99;_0x446339=_0x48d0f6+'-'+_0x555b99+'-'+_0x295c49;_0x59a9cc=_0x59a9cc*_0x1ac3f3-_0x528491;if(_0x59a9cc<0x0){_0x59a9cc=0x0;}_0x377398[_0x7ff8('0x36')]({'time':_0x446339,'value':_0x59a9cc});_0x1f5e96++;_0x5666ae=_0x5666ae+_0x528491;}$(_0x7ff8('0x16'))['val'](Math[_0x7ff8('0x5')](_0x528491));areaSeries[_0x7ff8('0x33')](_0x377398);chart[_0x7ff8('0x25')]()[_0x7ff8('0x8')]();$(_0x7ff8('0xc'))[_0x7ff8('0x35')](Math[_0x7ff8('0x5')](_0x5666ae));$(_0x7ff8('0x2a'))[_0x7ff8('0x35')](_0x446339);return _0x377398;}console[_0x7ff8('0x30')](datacalc());function monthly(){var _0x9cef3=parseFloat($(_0x7ff8('0x0'))[_0x7ff8('0x35')]())/0xc;var _0x10a3a9=_0x9cef3*parseFloat($(_0x7ff8('0x19'))[_0x7ff8('0x35')]())/0x64;$(_0x7ff8('0x16'))[_0x7ff8('0x35')](Math[_0x7ff8('0x5')](_0x10a3a9));}function principality(){var _0x50c228=parseFloat($(_0x7ff8('0x37'))[_0x7ff8('0x35')]())+parseFloat($(_0x7ff8('0x23'))[_0x7ff8('0x35')]())+parseFloat($(_0x7ff8('0x21'))[_0x7ff8('0x35')]())+parseFloat($(_0x7ff8('0x2'))[_0x7ff8('0x35')]())+parseFloat($('#sem5')[_0x7ff8('0x35')]())+parseFloat($('#sem6')['val']())+parseFloat($(_0x7ff8('0x28'))[_0x7ff8('0x35')]())+parseFloat($(_0x7ff8('0xd'))[_0x7ff8('0x35')]());$(_0x7ff8('0xf'))[_0x7ff8('0x35')](_0x50c228);}principality();</script>