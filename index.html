<head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"> <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script></head><style>body{background-color: #2B2B43; color: whitesmoke;}</style><body ><div id="main_chart" ></div><div class="container"> <div class="row" > <h5>Enter Loans</h5> </div><div class="row" > <label class="col" for="sem1">Fall M1</label> <label class="col" for="sem2">Spring M1</label> <label class="col" for="sem3">Fall M2</label> <label class="col" for="sem4">Spring M2</label> <div class="input-group mb-3"> <input type="tel" value="21361" class="form-control col" id="sem1" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> <input type="tel" value="21361" class="form-control col" id="sem2" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> <input type="tel" value="21361" class="form-control col" id="sem3" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> <input type="tel" value="21361" class="form-control col" id="sem4" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> </div></div><div class="row"> <label class="col" for="sem5">Fall M3</label> <label class="col" for="sem6">Spring M3</label> <label class="col" for="sem7">Fall M4</label> <label class="col" for="sem8">Spring M4</label> <div class="input-group mb-3"> <input type="tel" value="21361" class="form-control col" id="sem5" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> <input type="tel" value="21361" class="form-control col" id="sem6" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> <input type="tel" value="21361" class="form-control col" id="sem7" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> <input type="tel" value="21361" class="form-control col" id="sem8" aria-describedby="basic-addon3" onchange="datacalc(); principality();"> </div></div><div class="row"> <h5>Additional Info</h5> </div><div class="row"> <label class="col" for="interest">Avg Interest Rate (%)</label> <label class="col" for="principle">Calculated Principle</label> <label class="col" for="tip">Calculated Interest Paid</label> <div class="input-group mb-3"> <input type="tel" value="7" class="form-control col-xs-6 col-sm-3" id="interest" aria-describedby="basic-addon3" onchange="datacalc()"> <input type="text" value="" disabled class="form-control col" id="principle" aria-describedby="basic-addon3"> <input type="text" value="" disabled class="form-control col" id="tip" aria-describedby="basic-addon3" > </div></div><div class="row"> <label class="col" for="rmc">Residency Monthly Contribution</label> <label class="col" for="yir">Years In Residency/Fellowship</label> <div class="input-group mb-3"> <input type="tel" value="350" class="form-control col" id="rmc" aria-describedby="basic-addon3" onchange="datacalc()"> <input type="tel" value="4" class="form-control col" id="yir" aria-describedby="basic-addon3" onchange="datacalc()"> </div></div><div class="row"> <label class="col" for="asa">Attending Annual Salary</label> <label class="col" for="asa">% salary paid to loan (per month)</label> <label class="col" for="asa">Calculated Monthly Loan Payment</label> <div class="input-group mb-3"> <input border-primary type="tel" value="250000" class="form-control col" id="asa" aria-describedby="basic-addon3" onchange="datacalc(); monthly();"> <input type="tel" value="50" class="form-control col" id="percent" aria-describedby="basic-addon3" onchange="datacalc(); monthly();"> <input type="text" disabled value="10416.67" class="form-control col" id="monthly_pay" aria-describedby="basic-addon3" > </div></div><div class="row"> <label class="col" for="epd">Estimated Payoff Date</label> <div class="input-group mb-3"> <input type="text" value="" disabled class="form-control col" id="epd" aria-describedby="basic-addon3" onchange="datacalc()"> </div></div></div></body><script>function getWidth(){return Math.max( document.body.scrollWidth, document.documentElement.scrollWidth, document.body.offsetWidth, document.documentElement.offsetWidth, document.documentElement.clientWidth );}function getHeight(){return Math.max( document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.documentElement.clientHeight );}console.log('Width: ' + getWidth() );console.log('Height: ' + getHeight() );var chart=LightweightCharts.createChart(document.getElementById("main_chart"),{width: getWidth()*0.965 , height: getHeight()*0.75, layout:{backgroundColor: '#000000', textColor: 'rgba(255, 255, 255, 0.9)',}, grid:{vertLines:{color: 'rgba(197, 203, 206, 0.5)',}, horzLines:{color: 'rgba(197, 203, 206, 0.5)',},}, crosshair:{mode: LightweightCharts.CrosshairMode.Normal,}, priceScale:{borderColor: 'rgba(197, 203, 206, 0.8)',}, timeScale:{borderColor: 'rgba(197, 203, 206, 0.8)',},});var areaSeries=chart.addAreaSeries({topColor: 'rgba(33, 150, 243, 0.56)', bottomColor: 'rgba(33, 150, 243, 0.04)', lineColor: 'rgba(33, 150, 243, 1)', lineWidth: 2,});var darkTheme={chart:{layout:{backgroundColor: '#2B2B43', lineColor: '#2B2B43', textColor: '#D9D9D9',}, watermark:{color: 'rgba(0, 0, 0, 0)',}, crosshair:{color: '#758696',}, grid:{vertLines:{color: '#2B2B43',}, horzLines:{color: '#363C4E',},},}, series:{topColor: 'rgba(32, 226, 47, 0.56)', bottomColor: 'rgba(32, 226, 47, 0.04)', lineColor: 'rgba(32, 226, 47, 1)',},};const lightTheme={chart:{layout:{backgroundColor: '#FFFFFF', lineColor: '#2B2B43', textColor: '#191919',}, watermark:{color: 'rgba(0, 0, 0, 0)',}, grid:{vertLines:{visible: false,}, horzLines:{color: '#f0f3fa',},},}, series:{topColor: 'rgba(33, 150, 243, 0.56)', bottomColor: 'rgba(33, 150, 243, 0.04)', lineColor: 'rgba(33, 150, 243, 1)',},};var themesData={Dark: darkTheme, Light: lightTheme,};function syncToTheme(theme){chart.applyOptions(themesData[theme].chart); areaSeries.applyOptions(themesData[theme].series);}syncToTheme('Dark');function resizer(){chart.applyOptions({width: getWidth()*0.95, height: getHeight()*0.75});}/*window.addEventListener("resize",resizer)*/function datacalc(){var list1=[]; var date=new Date(2020, 8, 1, 0, 0, 0); /*set this to new date every year or so*/ var dd=(date.getDate() < 10 ? '0' : '') + date.getDate(); var mm=(date.getMonth() < 10 ? '0' : '') + date.getMonth(); var yy=date.getFullYear(); var interest=parseFloat($("#interest").val())/100; var loan1=parseFloat($("#sem1").val()); var loan2=parseFloat($("#sem2").val()); var loan3=parseFloat($("#sem3").val()); var loan4=parseFloat($("#sem4").val()); var loan5=parseFloat($("#sem5").val()); var loan6=parseFloat($("#sem6").val()); var loan7=parseFloat($("#sem7").val()); var loan8=parseFloat($("#sem8").val()); var years_in_residency=parseFloat($("#yir").val()); var residency_monthly=parseFloat($("#rmc").val()); var attending_monthly=parseFloat($("#asa").val())/12; var monthly_contrib=attending_monthly * parseFloat($("#percent").val())/100; var excess_paid=-(loan1 + loan2 + loan3 + loan4 + loan5 + loan6 + loan7 + loan8); interest=interest/12; var i_multi=interest + 1; var loans=loan1*i_multi; list1.push({time:yy + '-'+ mm + '-'+ dd, value:loans}); var i; for (i=1; i<46; i++){date=new Date(date.setMonth(date.getMonth()+1)); dd=(date.getDate() < 10 ? '0' : '') + date.getDate(); mm=(date.getMonth() < 10 ? '0' : '') + parseInt(date.getMonth()); yy=date.getFullYear(); mm=parseInt(mm) + 1; mm=(mm < 10 ? '0' : '') + mm; var date_str=yy + '-'+ mm + '-'+ dd; /*medical school*/ switch(i){case 5: loans=(loans + loan2)*i_multi; break; case 12: loans=(loans + loan3)*i_multi; break; case 17: loans=(loans + loan4)*i_multi; break; case 24: loans=(loans + loan5)*i_multi; break; case 29: loans=(loans + loan6)*i_multi; break; case 36: loans=(loans + loan7)*i_multi; break; case 40: loans=(loans + loan8)*i_multi; break; default: loans=loans*i_multi;}list1.push({time:date_str, value:loans});}/*residency*/ for (i=1; i<years_in_residency*12;i++){date=new Date(date.setMonth(date.getMonth()+1)); dd=(date.getDate() < 10 ? '0' : '') + date.getDate(); mm=(date.getMonth() < 10 ? '0' : '') + parseInt(date.getMonth()); yy=date.getFullYear(); mm=parseInt(mm) + 1; mm=(mm < 10 ? '0' : '') + mm; date_str=yy + '-'+ mm + '-'+ dd; loans=loans*i_multi - residency_monthly; list1.push({time:date_str, value:loans}); excess_paid=excess_paid + residency_monthly;}/*attending*/ i=0; while (loans > 0 && i<30*12){date=new Date(date.setMonth(date.getMonth()+1)); dd=(date.getDate() < 10 ? '0' : '') + date.getDate(); mm=(date.getMonth() < 10 ? '0' : '') + parseInt(date.getMonth()); yy=date.getFullYear(); mm=parseInt(mm) + 1; mm=(mm < 10 ? '0' : '') + mm; date_str=yy + '-'+ mm + '-'+ dd; loans=loans*i_multi - monthly_contrib; if (loans<0){loans=0;}list1.push({time:date_str, value:loans}); i++; excess_paid=excess_paid + monthly_contrib;}$("#monthly_pay").val(Math.round(monthly_contrib)); areaSeries.setData(list1); chart.timeScale().fitContent(); $("#tip").val(Math.round(excess_paid)); $("#epd").val(date_str); return list1;}console.log(datacalc());function monthly(){var attending_monthly=parseFloat($("#asa").val())/12; var monthly_contrib=attending_monthly * parseFloat($("#percent").val())/100; $("#monthly_pay").val(Math.round(monthly_contrib));}function principality(){var principle=parseFloat($("#sem1").val())+parseFloat($("#sem2").val())+parseFloat($("#sem3").val())+parseFloat($("#sem4").val())+ parseFloat($("#sem5").val())+parseFloat($("#sem6").val())+parseFloat($("#sem7").val())+parseFloat($("#sem8").val()); $("#principle").val(principle);}principality();</script>
